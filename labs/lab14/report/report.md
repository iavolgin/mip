---
## Front matter
title: "Лабораторная работа №14"
subtitle: "Имитационное моделирование"
author: "Волгин Иван Алексеевич"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: false # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Реализовать модели обработки заказов и проанализировать полученные результаты

# Задание

Реализовать с помощью gpss:

- модель оформления заказов клиентов одним оператором;
- построение гистограммы распределения заявок в очереди;
- модель обслуживания двух типов заказов от клиентов в интернет-магазине;
- модель оформления заказов несколькими операторами

# Выполнение лабораторной работы

Первой моделью я изучал и строил модель оформления заказов клиентов одним оператором (модель 1). Код реализации модели на (рис. [-@fig:001]).

![Код реализации модели 1](image/1.png){#fig:001 width=70%}

Затем я запустил модель и получил сформированный отчет (рис. [-@fig:002])

![Отчет по модели 1](image/2.png){#fig:002 width=70%}

Далее я выполнял упражнение к этой модели (упражнение 1), в котором нужно было построить похожую модель с другими значениями интервала поступления заказа и времени его оформления. Код реализации на (рис. [-@fig:003]). 

![Упражнение 1](image/3.png){#fig:003 width=70%}

Запустив модель получил отчет (рис. [-@fig:004]) и проанализировал его

![Упражнение 1 отчет](image/4.png){#fig:004 width=70%}

Результаты работы модели:

- модельное время в начале моделирования: START TIME=0.0;
- абсолютное время или момент, когда счетчик завершений принял значение 0: END TIME=480.0;
- количество блоков, использованных в текущей модели, к моменту завершения моделирования: BLOCKS=9;
- количество одноканальных устройств, использованных в модели к моменту завершения моделирования: FACILITIES=1;
- количество многоканальных устройств, использованных в текущей модели к моменту завершения моделирования: STORAGES=0.
Имена, используемые в программе модели: operator, operator_q.

количество транзактов, вошедших в блок с начала процедуры моделирования ENTRY COUNT = 152;
Затем идёт информация об одноканальном устройстве FACILITY (оператор, оформляющий заказ), откуда видим, что к оператору попало 71 заказ от клиентов (значение поля OWNER=71), но оператор успел принять в обработку до окончания рабочего времени только 70 (значение поля ENTRIES=70). Полезность работы оператора составила 0,991. При этом среднее время занятости оператора составило 6,796 мин.

Далее информация об очереди:

- QUEUE=operator_q -- имя объекта типа «очередь»;
- MAX=82 -- в очереди находилось 82 ожидающих заявок от клиента;
- CONT=82 -- на момент завершения моделирования в очереди было 82 заявки;
- ENTRIES=82 -- общее число заявок от клиентов, прошедших через очередь в течение периода моделирования;
- ENTRIES(O)=1 -- число заявок от клиентов, попавших к оператору без ожидания в очереди;
- AVE.CONT=39,096 заявок от клиентов в среднем были в очереди;
- AVE.TIME=123.461 минут в среднем заявки от клиентов провели в очереди (с учётом всех входов в очередь);
- AVE.(-0)=123,279 минут в среднем заявки от клиентов провели в очереди (без учета «нулевых» входов в очередь).
В конце отчёта идёт информация о будущих событиях.

После этого перехожу ко второму пункту выполнения работы "построение гистограммы распределения заявок в очереди". Для выполнения этого этапа я написал код реализации для построения диаграммы (рис. [-@fig:005]). Скомпилировав код, я получил отчет о работе модели (рис. [-@fig:006]) и саму диаграмму (рис. [-@fig:007]), затем приступил к их анализу.

![Код для построения гистограммы](image/5.png){#fig:005 width=70%}

![Отчет по модели с построением гистограммы](image/6.png){#fig:006 width=70%}

Анализ отчета:

- модельное время в начале моделирования: START TIME=0.0;
- абсолютное время или момент, когда счетчик завершений принял значение 0: END TIME=353.895;
- количество блоков, использованных в текущей модели, к моменту завершения моделирования: BLOCKS=10;
- количество одноканальных устройств, использованных в модели к моменту завершения моделирования: FACILITIES=1;
- количество многоканальных устройств, использованных в текущей модели к моменту завершения моделирования: STORAGES=0.
Имена, используемые в программе модели: operator, operator_q.

- количество транзактов, вошедших в блок с начала процедуры моделирования ENTRY COUNT = 102;

Затем идёт информация об одноканальном устройстве FACILITY (оператор, оформляющий заказ), откуда видим, что к оператору попало 98 заказов от клиентов (значение поля OWNER=98), но оператор успел принять в обработку до окончания рабочего времени только 54 (значение поля ENTRIES=54). Полезность работы оператора составила 0,987. При этом среднее время занятости оператора составило 6,470 мин.

Далее информация об очереди:

- QUEUE=operator_q -- имя объекта типа «очередь»;
- MAX=2 -- в очереди находилось не более двух ожидающих заявок от клиента;
- CONT=2 -- на момент завершения моделирования в очереди было два клиента;
- ENTRIES=55 -- общее число заявок от клиентов, прошедших через очередь в течение периода моделирования;
- ENTRIES(O)=1 -- число заявок от клиентов, попавших к оператору без ожидания в очереди;
- AVE.CONT=1,652 заявок от клиентов в среднем были в очереди;
- AVE.TIME=10.628 минут в среднем заявки от клиентов провели в очереди (с учётом всех входов в очередь);
- AVE.(-0)=10,824 минут в среднем заявки от клиентов провели в очереди (без учета «нулевых» входов в очередь).
Также появилась таблица с информацией для гистограммы: частотность разделена на 15 частотных интервалов с шагом 2 и началом в 0, как мы и задали. Наибольшее количество заявок(17) обрабатывалось в диапазоне 10-12 минут.

В конце отчёта идёт информация о будущих событиях.

![Гистограмма](image/7.png){#fig:007 width=70%}

Анализ гистограммы:

Частотность разделена на 15 частотных интервалов с шагом 2 и началом в 0, как мы и задали. Наибольшее количество заявок (17) обрабатывалось 10-12 минут, 14 заявок -- 12-14 минут, 12 заявок -- 8-10 минут, в остальных диапазонах 0-4 заявок.

Следующая модель - "модель обслуживания двух типов заказов от клиентов в интернет-магазине" (модель 2). Мною был реализован код модели (рис. [-@fig:008]) и получен отчет (рис. [-@fig:009]) 

![Код модели 2](image/8.png){#fig:008 width=70%}

![Отчет по модели 2](image/9.png){#fig:009 width=70%}

Далее нужно было выполнить упражнение, в котором требовалось скорректировать модель так, чтобы учитывалось условие, что число заказов с дополнительным пакетом услуг составляет 30% от общего числа заказов. Я выполнил его написав следующий код (рис. [-@fig:010]), и получив отчет (рис. [-@fig:011]), проанализировал его.

![Упражнение у модели 2](image/10.png){#fig:010 width=70%}

![Отчет по упражнению к модели 2](image/11.png){#fig:011 width=70%}

Результаты работы модели:

- модельное время в начале моделирования: START TIME=0.0;
- абсолютное время или момент, когда счетчик завершений принял значение 0: END TIME=480.0;
- количество блоков, использованных в текущей модели, к моменту завершения моделирования: BLOCKS=11;
- количество одноканальных устройств, использованных в модели к моменту завершения моделирования: FACILITIES=1;
- количество многоканальных устройств, использованных в текущей модели к моменту завершения моделирования: STORAGES=0.
Имена, используемые в программе модели: operator, operator_q.

количество транзактов, вошедших в блок заказов с начала процедуры моделирования ENTRY COUNT = 33, при этом из них второго типа (с дополнительными услугами) ENTRY COUNT = 8; обработано 32 заказа;
Затем идёт информация об одноканальном устройстве FACILITY (оператор, оформляющий заказ), откуда видим, что к оператору попало 34 заказа от клиентов (значение поля OWNER=34), но оператор успел принять в обработку до окончания рабочего времени только 33 (значение поля ENTRIES=33). Полезность работы оператора составила 0,766. При этом среднее время занятости оператора составило 11,146 мин.

Далее информация об очереди:

- QUEUE=operator_q -- имя объекта типа «очередь»;
- MAX=1 -- в очереди находилось не более двух ожидающих заявок от клиента;
- CONT=0 -- на момент завершения моделирования в очереди было ноль клиентов;
- ENTRIES=33 -- общее число заявок от клиентов, прошедших через очередь в течение периода моделирования;
- ENTRIES(O)=25 -- число заявок от клиентов, попавших к оператору без ожидания в очереди;
- AVE.CONT=0,054 заявок от клиентов в среднем были в очереди;
- AVE.TIME=0.781 минут в среднем заявки от клиентов провели в очереди (с учётом всех входов в очередь);
- AVE.(-0)=3,220 минут в среднем заявки от клиентов провели в очереди (без учета «нулевых» входов в очередь).
В конце отчёта идёт информация о будущих событиях.

Далее я изучил и реализовал модель оформления заказов несколькими операторами (модель 3). Я написал код (рис. [-@fig:012]), и скомпилировав его, получил отчет (рис. [-@fig:013])

![Код модели 3](image/12.png){#fig:012 width=70%}

![Отчет по модели 3](image/13.png){#fig:013 width=70%}

Анализ отчета:

- модельное время в начале моделирования: START TIME=0.0;
- абсолютное время или момент, когда счетчик завершений принял значение 0: END TIME=480.0;
- количество блоков, использованных в текущей модели, к моменту завершения моделирования: BLOCKS=9;
- количество одноканальных устройств, использованных в модели к моменту завершения моделирования: FACILITIES=1;
- количество многоканальных устройств, использованных в текущей модели к моменту завершения моделирования: STORAGES=0.
Имена, используемые в программе модели: operator, operator_q.

количество транзактов, вошедших в блок заказов с начала процедуры моделирования ENTRY COUNT = 93; обработан 91 заказ;
Далее информация об очереди:

- QUEUE=operator_q -- имя объекта типа «очередь»;
- MAX=1 -- в очереди находилось не более двух ожидающих заявок от клиента;
- CONT=0 -- на момент завершения моделирования в очереди было ноль клиентов;
- ENTRIES=93 -- общее число заявок от клиентов, прошедших через очередь в течение периода моделирования;
- ENTRIES(O)=93 -- число заявок от клиентов, попавших к оператору без ожидания в очереди;
- AVE.CONT=0,000 -- заявок от клиентов в среднем были в очереди;
- AVE.TIME=0.000 минут в среднем заявки от клиентов провели в очереди (с учётом всех входов в очередь);
- AVE.(-0)=0,000 минут в среднем заявки от клиентов провели в очереди (без учета «нулевых» входов в очередь).
Затем идёт информация о многоканальном устройстве STORAGE (оператор, оформляющий заказ), откуда видим, что к операторам попало 93 заказа от клиентов, но не указано, сколько операторы успели принять в обработку. Полезность работы операторов составила 0,482. При этом среднее время занятости оператора составило 1,926 мин. Также появились значения, характерные для STORAGE: вместительность 4, максимальное число одновременно работающих операторов -- 4, минимальное -- 0.

В конце отчёта идёт информация о будущих событиях.

Далее нужно изменить модель так, чтобы учитывались возможные отказы клиентов от заказа. Код модели на (рис. [-@fig:014]). 

![Код упражнения к модели 3](image/14.png){#fig:014 width=70%}

После компиляции я получил и проанализировал отчет по работе модели (рис. [-@fig:015])

![Отчет по упражнению к модели 3](image/15.png){#fig:015 width=70%}

Анализ отчета:

- модельное время в начале моделирования: START TIME=0.0;
- абсолютное время или момент, когда счетчик завершений принял значение 0: END TIME=480.0;
- количество блоков, использованных в текущей модели, к моменту завершения моделирования: BLOCKS=9;
- количество одноканальных устройств, использованных в модели к моменту завершения моделирования: FACILITIES=1;
- количество многоканальных устройств, использованных в текущей модели к моменту завершения моделирования: STORAGES=0.
Имена, используемые в программе модели: operator, operator_q.

количество транзактов, вошедших в блок заказов с начала процедуры моделирования ENTRY COUNT = 94; обработано 60 заказа; 27 человек отказались оставлять заявки, поскольку очередь была более 2ух заявок.
Далее информация об очереди:

- QUEUE=operator_q -- имя объекта типа «очередь»;
- MAX=3 -- в очереди находилось не более трех ожидающих заявок от клиента(как и было указано);
- CONT=3 -- на момент завершения моделирования в очереди было ноль клиентов;
- ENTRIES=67 -- общее число заявок от клиентов, прошедших через очередь в течение периода моделирования;
- ENTRIES(O)=4 -- число заявок от клиентов, попавших к оператору без ожидания в очереди;
- AVE.CONT=2,701 -- заявок от клиентов в среднем были в очереди;
- AVE.TIME=19,347 минут в среднем заявки от клиентов провели в очереди (с учётом всех входов в очередь);
- AVE.(-0)=20,576 минут в среднем заявки от клиентов провели в очереди (без учета «нулевых» входов в очередь).
Затем идёт информация о многоканальном устройстве STORAGE (оператор, оформляющий заказ), откуда видим, что к операторам попало 64 заказов от клиентов. Полезность работы операторов составила 0,971. При этом среднее время занятости оператора составило 3,885 мин. Также появились значения, характерные для STORAGE: вместительность 4, максимальное число одновременно работающих операторов -- 4, минимальное -- 0.

В конце отчёта идёт информация о будущих событиях.

# Выводы

В ходе выполнения лабораторной работы с помощью gpss было реализовано:

- модель оформления заказов клиентов одним оператором;
- построение гистограммы распределения заявок в очереди;
- модель обслуживания двух типов заказов от клиентов в интернет-магазине;
- модель оформления заказов несколькими операторами

